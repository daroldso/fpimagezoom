/*
	Full Page Image Zoom
	(c) 2015 daroldso
	Version: 1.0.0
	Sold exclusively on CodeCanyon
*/

"function"!=typeof Object.create&&(Object.create=function(e){function a(){}return a.prototype=e,new a}),function(e,a,i,t){var o={init:function(t,o,n){var m=this;m.elem=o,m.$elem=e(o);var r=i.createElement("div");r.className="fpimagezoom-modal",m.$modal=e(r),m.options=e.extend({},e.fn.fpImageZoom.options,t);var l=m._loadOriginalImage();l.onload=function(){m.image=this,m.$image=e(this),m._appendOriginalImageToBody(m.image),m.$preloader.fadeOut(100),m._setStage(),m._panImage(n.clientY),m.$modal.on("click",function(){m._clearStage()}),m.$modal.on("mousemove",function(e){m._panImage.call(m,e.clientY)}),e(a).on("resize",function(){m._resizeImage()})}},_loadOriginalImage:function(){var a=this,t=i.createElement("div"),o=i.createElement("img");return t.className="fpimagezoom-preloader",a.$preloader=e(t),o.complete||a.$preloader.fadeIn(100),imgSrc=a.$elem.attr("src"),o.src=imgSrc.replace("thumb","original"),o},_appendOriginalImageToBody:function(a){var i=this;i.$modal.append(a),e("body").append(i.$modal),e("body").append(i.$preloader)},_setStage:function(){var i=this,t=e(a).width();i.$modal.fadeIn(500),i._resizeImage(),e("html").css({overflow:"hidden",width:t})},_clearStage:function(){var a=this;a.$modal.fadeOut(500,function(){a.$modal.empty().remove(),a.$preloader.remove(),e("html").css({overflow:"visible",width:"100%"})})},_resizeImage:function(){var i=this,t=e(a).width(),o=(e(a).height(),i.image.naturalWidth),n=(i.image.naturalHeight,t>o?t:o),m=t>o?0:(t-o)/2;this.$modal.css({width:n,left:m})},_panImage:function(i){var t=this,o=e(a).height();t.$image.css({top:-((t.$image.height()-o)/o)*i})}};e.fn.fpImageZoom=function(a){return this.length?this.find("img").addClass("fpimagezoom-image").wrap('<div class="fpimagezoom-item">').on("click",function(i){var t=Object.create(o);t.init(a,this,i);e.data(this,"imageZoom",t)}):t}}(jQuery,window,document);